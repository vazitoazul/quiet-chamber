<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../shared-styles.html">
<dom-module id="post-card">
  <style include="app-grid-style shared-styles"></style>
  <template>
    <app-localstorage-document key="langauge" data="{{language}}"></app-localstorage-document>
      <paper-card>
        <div class="card-content">
          <!-- <div class="">[[localize('type')]]</div><div class="">[[localize('post_type','type',post.type)]]</div> -->
          <div class="">[[localize('description')]]</div><div class="">[[post.description]]</div>
          <a href="/acco/business/[[post.business]]/post/[[post.id]]"><paper-icon-button icon="close"></paper-icon-button></a>
          <template is="dom-if" if="[[franchise]]">
            franchise
          </template>
          <template is="dom-if" if="[[investment]]">
            investment
          </template>
          <template is="dom-if" if="[[donation]]">
            donation
          </template>
          <template is="dom-if" if="[[advertising]]">
            advertising
          </template>
          <template is="dom-if" if="[[job]]">
            job
          </template>
        </div>
      </paper-card>
  </template>
  <script>
    Polymer({
      is: 'post-card',

      behaviors : [
        Polymer.AppLocalizeBehavior
      ],

      properties : {
        post : {
          type : Object,
        },
        resources : {
          value :  function(){
            return  {
              'en' : {
                'name' : 'name',
                'type' : 'type',
                'post_type' : '{type, select, f {franchise} d {donation} i {investment} j {job} a {advertising} }',
                'labels' : 'labels',
                'telephones' : 'telephones',
                'number' : 'Phone number {number}',
                'email' : 'Email',
                'mobile' : 'Mobile phone',
                'description' : 'Description'
              } ,
              'es' : {
                'name' : 'nombre',
                'type' : 'tipo',
                'post_type' : '{type, select, f {franquicia} d {donación} i {inversión} j {trabajo} a {publicidad} }',
                'labels' : 'etiquetas',
                'telephones' : 'teléfonos',
                'number' : 'Teléfono {number}',
                'email' : 'Correo electrónico',
                'mobile' : 'Teléfono celular',
                'description' : 'Descripccion'
              }
            }
          }
        },
      },

      observers : [
        'changeTypeTemplate(post.type)'
      ],

      changeTypeTemplate : function(type){
        this.set('franchise',false);
        this.set('donation',false);
        this.set('franchise',false);
        this.set('advertising',false);
        this.set('job',false);
        switch(type){
          case 'f':
            this.set('franchise',true);
          break;
          case 'i':
            this.set('investment',true);
          break;
          case 'd':
            this.set('donation',true);
          break;
          case 'a':
            this.set('advertising',true);
          break;
          case 'j':
            this.set('job',true);
          break;
        }
      }
    });
  </script>
</dom-module>
